---
import { cn } from "../lib/utils"
const { pathname } = Astro.url
const subpath = pathname.match(/[^/]+/g)
import Container from "../components/Container.astro"
---

<header id="header" class="fixed top-0 w-full h-16 z-50 bg-white text-black transition-colors duration-300 ease-in-out">
  <Container size="lg">
    <div class="relative h-full w-full flex justify-between items-center">
      <div class="flex items-center">
        <a href="/" class="flex items-center">
          <img src="/1950VentureLogo.png" alt="1950 Ventures Logo" class="h-10" />
        </a>
      </div>

      <div class="flex items-center md:hidden">
        <button id="menu-button" class="flex flex-col h-12 w-12 justify-center items-center group">
          <div class="w-6 h-1 bg-black mb-1 group-hover:bg-gray-700 transition-all duration-300 ease-in-out"></div>
          <div class="w-6 h-1 bg-black mb-1 group-hover:bg-gray-700 transition-all duration-300 ease-in-out"></div>
          <div class="w-6 h-1 bg-black mb-1 group-hover:bg-gray-700 transition-all duration-300 ease-in-out"></div>
        </button>
      </div>

      <div class="hidden md:flex gap-1">
        <a href="/team" class="font-bold hover:text-blue-700"> 
          TEAM
        </a>
        <div class="w-[1px] bg-black rounded mx-[8px]"></div>
        <a href="/contact" class="font-bold hover:text-blue-700">
          CONTACT US
        </a>
      </div>
    </div>
  </Container>

  <!-- Drawer -->
  <div id="drawer" class="fixed top-16 left-0 w-full h-full bg-white transform -translate-x-full transition-transform duration-300 ease-in-out">
    <div class="flex flex-col p-4 text-center">
      <a href="/team" class="font-bold py-2 hover:text-blue-700">TEAM</a>
      <a href="/contact" class="font-bold py-2 hover:text-blue-700">CONTACT US</a>
    </div>
  </div>
</header>

<style>
  .scrolled {
    background-color: white !important;
  }

  .scrolled .text-current {
    color: white !important;
  }

  .scrolled .hover\:text-white:hover {
    color: white !important;
  }

  .buttons .hover\:text-white:hover {
    color: white;
  }

  .buttons .bg-black {
    background-color: black;
  }
</style>

<script is:inline>
  function handleScroll() {
    const header = document.getElementById('header');
    if (window.scrollY > 0) {
      header.classList.add('scrolled');
    } else {
      header.classList.remove('scrolled');
    }
  }

  function toggleDrawer() {
    const drawer = document.getElementById('drawer');
    if (drawer.classList.contains('-translate-x-full')) {
      drawer.classList.remove('-translate-x-full');
    } else {
      drawer.classList.add('-translate-x-full');
    }
  }

  document.getElementById('menu-button').addEventListener('click', toggleDrawer);

  window.addEventListener('scroll', handleScroll);
</script>
